const e="https://js2-social-default-rtdb.europe-west1.firebasedatabase.app/users",t=localStorage.getItem("user");async function o(t,o){const n=await fetch(e+`/${t}.json`,{method:"DELETE"}),c=await n.json();console.log(c,"user is removed"),o.innerHTML=""}async function n(t){const o=await fetch(e+`/${t}/posts.json`,{method:"DELETE"}),n=await o.json();console.log(n,"posts are removed"),location.reload()}const c=document.querySelector("#profile-container"),s=document.querySelector("#username-txt"),a=document.querySelector("#user-avatar"),r=document.querySelector("#other-users-container"),l=document.querySelector("#remove-btn"),i=document.querySelector("#textarea"),u=document.querySelector("#publish-btn"),d=document.querySelector("#post-card"),m=document.querySelector("#remove-posts"),f=localStorage.getItem("user"),p=localStorage.getItem("avatar"),g=localStorage.getItem("id");async function h(){const t=await fetch(e+`/${g}/posts.json`),o=await t.json();if(null!=o){console.log(o);const e=Object.values(o);console.log(e),n=e,d.innerHTML="",n.forEach((e=>{const t=document.createElement("div");t.classList.add("post-card");const o=document.createElement("p");o.innerText=`${e}`,t.append(o),d.prepend(t)}))}else d.innerText="No posts yet";var n}!async function(){const t=await fetch(e+".json"),o=await t.json();console.log(o);const n=Object.values(o),c=Object.keys(o);!function(e){let t=0;e.forEach((e=>{const{username:o}=e;if(o===f){const e=c[t];console.log(e),localStorage.setItem("id",e)}t++}))}(n)}(),setTimeout((()=>{h()}),300),async function(e,t,o,n){o.src=e,n.innerText=t}(p,f,a,s),async function(o){const n=await fetch(e+".json"),c=await n.json();console.log(c);const s=Object.values(c),a=Object.keys(c);!function(e){let n=0;e.forEach((e=>{const{username:c,avatar:s}=e;if(c!=t){const e=document.createElement("h3");e.innerText=c;const t=document.createElement("img");t.src=s,t.style.maxHeight="100px";const r=document.createElement("div");r.append(e,t),o.append(r),r.classList.add("user-card");const l=a[n];t.addEventListener("click",(()=>{localStorage.setItem("viewUser",c),localStorage.setItem("viewUserAvatar",s),localStorage.setItem("viewedUserId",l),setTimeout((()=>{window.location.href="../html/userPage.html"}),100)}))}n++}))}(s)}(r),l.addEventListener("click",(()=>{o(g,c),setTimeout((()=>{window.location.href="../html.html"}),300)})),m.addEventListener("click",(()=>{n(g)})),u.addEventListener("click",(t=>{t.preventDefault();const o=i.value;console.log(o),async function(t){if(""!=t){const o={method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}},n=await fetch(e+`/${g}/posts.json`,o),c=await n.json();console.log(c)}}(o),setTimeout((()=>{h()}),200),i.value=""})),console.log(g),console.log(g);
//# sourceMappingURL=profile.4eb46a4e.js.map
