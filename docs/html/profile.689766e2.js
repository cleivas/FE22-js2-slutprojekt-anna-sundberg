const e="https://js2-social-default-rtdb.europe-west1.firebasedatabase.app/users",t=localStorage.getItem("user");async function o(t,o){const n=await fetch(e+`/${t}.json`,{method:"DELETE"}),s=await n.json();console.log(s,"user is removed"),o.innerHTML=""}async function n(t){const o=await fetch(e+`/${t}/posts.json`,{method:"DELETE"}),n=await o.json();console.log(n,"posts are removed"),location.reload()}const s=document.querySelector("#profile-container"),c=document.querySelector("#username-txt"),a=document.querySelector("#user-avatar"),r=document.querySelector("#other-users-container"),l=document.querySelector("#remove-btn"),i=document.querySelector("#textarea"),u=document.querySelector("#publish-btn"),d=document.querySelector("#post-card"),m=document.querySelector("#remove-posts"),f=localStorage.getItem("user"),g=localStorage.getItem("avatar"),p=localStorage.getItem("id");async function v(){const t=await fetch(e+`/${p}/posts.json`),o=await t.json();if(null!=o){console.log(o);const e=Object.values(o);console.log(e),n=e,d.innerHTML="",n.forEach((e=>{const t=document.createElement("div");t.classList.add("post-card");const o=document.createElement("p");o.innerText=`${e}`,t.append(o),d.prepend(t)}))}else d.innerText="No posts yet";var n}!async function(){const t=await fetch(e+".json"),o=await t.json();console.log(o);const n=Object.values(o),s=Object.keys(o);!function(e){let t=0;e.forEach((e=>{const{username:o}=e;if(o===f){const e=s[t];console.log(e),localStorage.setItem("id",e)}t++}))}(n)}(),setTimeout((()=>{v()}),300),async function(e,t,o,n){o.src=e,n.innerText=t}(g,f,a,c),async function(o){const n=await fetch(e+".json"),s=await n.json();console.log(s);const c=Object.values(s),a=Object.keys(s);!function(e){let n=0;e.forEach((e=>{const{username:s,avatar:c}=e;if(s!=t){const e=document.createElement("h3");e.innerText=s;const t=document.createElement("img");t.src=c,t.style.maxHeight="100px";const r=document.createElement("div");r.append(e,t),o.append(r),r.classList.add("user-card");const l=a[n];t.addEventListener("click",(()=>{localStorage.setItem("viewUser",s),localStorage.setItem("viewUserAvatar",c),localStorage.setItem("viewedUserId",l),setTimeout((()=>{location.assign("../html/userProfile.html")}),100)}))}n++}))}(c)}(r),l.addEventListener("click",(()=>{o(p,s),setTimeout((()=>{location.assign("../html.html")}),300)})),m.addEventListener("click",(()=>{n(p)})),u.addEventListener("click",(t=>{t.preventDefault();const o=i.value;console.log(o),async function(t){if(""!=t){const o={method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}},n=await fetch(e+`/${p}/posts.json`,o),s=await n.json();console.log(s)}}(o),setTimeout((()=>{v()}),200),i.value=""})),console.log(p),console.log(p);
//# sourceMappingURL=profile.689766e2.js.map
