function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},s=t.parcelRequire605a;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequire605a=s),s.register("27Lyk",(function(t,n){var o,s;e(t.exports,"register",(()=>o),(e=>o=e)),e(t.exports,"resolve",(()=>s),(e=>s=e));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},s=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s("27Lyk").register(JSON.parse('{"l1gf1":"index.bff52eca.js","dFjjW":"koala.381c436e.svg","z2aJN":"duck.35625f35.svg","9jQRK":"penguin.cbd7ba22.svg"}'));const a="https://js2-social-default-rtdb.europe-west1.firebasedatabase.app/users";localStorage.getItem("user");let r,l,i="";const c=document.querySelector("#sign-in"),u=document.querySelector("#user-input");c.addEventListener("click",(()=>{r=!1,console.log("OK du ska logga in"),p.style.display="none",u.style.display="flex",u.style.border="black 2px solid",c.style.display="none"}));const d=document.querySelector("#submit-btn"),p=document.querySelector("#sign-up");var g;g=new URL(s("27Lyk").resolve("dFjjW"),import.meta.url).toString();var m;m=new URL(s("27Lyk").resolve("z2aJN"),import.meta.url).toString();var y;y=new URL(s("27Lyk").resolve("9jQRK"),import.meta.url).toString(),p.addEventListener("click",(()=>{r=!0,console.log(r),p.style.display="none",u.style.display="flex";const e=document.createElement("div");console.log("OK, du ska skapa en user"),c.style.display="none",d.innerText="Create User";const t=document.createElement("img");let n=new URL(g);t.src=n.href;const o=document.createElement("img");let s=new URL(m);o.src=s.href;const a=document.createElement("img");let l=new URL(y);a.src=l.href;const f=document.createElement("h3");f.innerText="Choose your avatar by clicking the one you want",e.append(t,o,a),u.prepend(f,e),t.addEventListener("click",(()=>{console.log("You chose koala"),i="https://www.reshot.com/preview-assets/icons/NX7HW2CBSF/koala-NX7HW2CBSF.svg",o.style.display="none",a.style.display="none"})),o.addEventListener("click",(()=>{console.log("You chose duck"),i="https://www.reshot.com/preview-assets/icons/RYZ2P59AGC/duck-RYZ2P59AGC.svg",t.style.display="none",a.style.display="none"})),a.addEventListener("click",(()=>{console.log("You chose penguin"),i="https://www.reshot.com/preview-assets/icons/3BTWMSPU95/penguin-3BTWMSPU95.svg",t.style.display="none",o.style.display="none"}))}));document.querySelector("#input-form").addEventListener("submit",(e=>{e.preventDefault(),async function(){let e=document.querySelector("#username"),t=document.querySelector("#password");const n=document.querySelector("#error-message"),o=await fetch(a+".json"),s=await o.json();console.log(s);const c=Object.values(s),u=Object.keys(s);if(0==r){function d(o){for(let s=0;s<o.length;s++){const{username:a,password:r,avatar:l}=o[s];if(e.value!=a||t.value!=r)n.innerText="Wrong username or password";else{if(e.value==a&&t.value==r){n.innerText="",console.log("hittade user");const o=u[s];localStorage.setItem("user",e.value),localStorage.setItem("password",t.value),localStorage.setItem("avatar",l),localStorage.setItem("id",o),setTimeout((()=>{location.assign("../html/profile.html")}),400);break}console.log("ingen user hittades"),n.innerText="no user found :("}}}d(c)}if(1==r){function p(o){for(let s=0;s<o.length;s++){const{username:a,password:r}=o[s];if(""==e.value||""==t.value||""==i){alert("fyll i alla inputs");break}if(e.value==a&&t.value==r){console.log("did you mean to sign in instead?"),n.innerText="User already exists, did you mean to sign in instead?",l=!1;break}if(e.value==a){console.log("user already exists, try a different username"),n.innerText="This name is taken :(",l=!1;break}e.value!=a&&(console.log("ingen user hittades, ny skall skapas"),l=!0)}}p(c)}if(1==l){async function g(e){const t={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}},n=await fetch(a+".json",t),o=await n.json();console.log(o)}g({username:e.value,password:t.value,avatar:i}),localStorage.setItem("user",e.value),localStorage.setItem("password",t.value),localStorage.setItem("avatar",i),setTimeout((()=>{location.assign("../html/profile.html")}),600)}}()}));
//# sourceMappingURL=index.bff52eca.js.map
